<div class="container">
  <p>chat works!</p>


  <br>


  <form [formGroup]="chatFormGroup" (ngSubmit)="onSubmit()">
    <div>
      <input type="button" value="connect" class="btn btn-success" (click)="connect();">
      <br>
      <label for="channel" class="form-label">channel : </label>
      <select formControlName="channel" id="channel" class="form-control-sm">
        <option *ngFor="let pf of chatChannel" [ngValue]="pf">
          {{ pf }}
        </option>
      </select>
    </div>
    <div class="col-12">
      is connected: <strong>{{isConnected}}</strong>
    </div>
    <br>
    <input type="text" placeholder="message" formControlName="message" class="input-group">
    <input type="text" placeholder="from" formControlName="from" class="input-group">
    <br>
    <input type="submit" value="Send" class="btn btn-danger" [disabled]="chatFormGroup.invalid">
  </form>
  <br>
  <div>
    <input type="button" value="test" class="btn btn-success" (click)="testLoad();">
  </div>
  <br>
  <h3>messages</h3>
  <table  class="table table-bordered">
    <thead>
    <tr>
      <th>from</th>
      <th>message</th>
      <th>send date</th>
      <th>receive date</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let message of messagesV2">
      <td>
        {{message.createBy}}
      </td>
      <td>
        {{message.message}}
      </td>
      <td>
        {{message.createDate  | date:'medium'}}
      </td>
      <td>
        {{message.clientReceiveDate  | date:'medium'}}
      </td>
    </tr>
    </tbody>
  </table>
  <!--<ul>
    <li *ngFor="let message of messagesV2">
      {{message.createBy}} - {{message.message}} - {{message.createDate  | date:'medium'}} - {{message.clientReceiveDate  | date:'medium'}}
    </li>
  </ul>-->


</div>
